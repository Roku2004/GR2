TÃªn dá»± Ã¡n: Movie Streaming Platform â€“ Há»‡ thá»‘ng xem phim trá»±c tuyáº¿n
ğŸ§© Má»¥c tiÃªu
XÃ¢y dá»±ng má»™t há»‡ thá»‘ng web xem phim theo kiáº¿n trÃºc microservices, há»— trá»£:

NgÆ°á»i dÃ¹ng Ä‘Äƒng kÃ½, Ä‘Äƒng nháº­p báº£o máº­t báº±ng JWT

Duyá»‡t vÃ  xem danh sÃ¡ch phim, thá»ƒ loáº¡i

Xem phim trá»±c tiáº¿p (streaming)

ÄÃ¡nh giÃ¡ vÃ  lÆ°u lá»‹ch sá»­ xem

Há»‡ thá»‘ng má»Ÿ rá»™ng dá»… dÃ ng, dá»… báº£o trÃ¬ vÃ  theo dÃµi tÃ¬nh tráº¡ng hoáº¡t Ä‘á»™ng

ğŸ—ï¸ Tá»•ng quan Kiáº¿n trÃºc

                           +---------------------+
                           |  Spring Cloud Config|
                           |    (config-server)  |
                           +----------+----------+
                                      |
          +---------------------------+------------------------------+
          |                           |                              |
+---------v----------+    +-----------v-----------+     +------------v-----------+
|  Eureka Discovery  |    | Spring Cloud Gateway  |     | Spring Boot Admin (UI) |
|     (Eureka)       |    |     (api-gateway)     |     |      (tuá»³ chá»n)         |
+---------+----------+    +-----------+-----------+     +------------------------+
          |                           |
          |               +----------+----------+
          |               |   Spring Security    |
          |               | (JWT Auth Service)   |
          |               +----------+----------+
          |                          |
+---------v----------+  +-----------v-----------+  +-----------v----------+
|  user-service       |  |  catalog-service      |  |  movie-service       |
| (quáº£n lÃ½ ngÆ°á»i dÃ¹ng)|  | (thá»ƒ loáº¡i)            |  | (thÃ´ng tin phim)     |
+---------------------+  +-----------------------+  +----------------------+
                             |                             |
                   +---------v----------+     +-----------v-----------+
                   | review-service     |     | history-service       |
                   | (Ä‘Ã¡nh giÃ¡ phim)    |     | (lá»‹ch sá»­ xem)         |
                   +--------------------+     +-----------------------+
                             |
                      +------v------+
                      | media-stream |
                      | -service     |
                      | (stream video)|
                      +--------------+

ğŸ—‚ï¸ CÃ¡c Service trong há»‡ thá»‘ng
TÃªn Service			        MÃ´ táº£ chá»©c nÄƒng chÃ­nh
config-server		    Quáº£n lÃ½ cáº¥u hÃ¬nh táº­p trung tá»« repo config-repo
eureka-server		    Quáº£n lÃ½ Ä‘Äƒng kÃ½ vÃ  khÃ¡m phÃ¡ cÃ¡c service
api-gateway		        Cá»•ng truy cáº­p vÃ o toÃ n bá»™ há»‡ thá»‘ng, xá»­ lÃ½ route, filter, auth
auth-service		    Xá»­ lÃ½ xÃ¡c thá»±c, táº¡o JWT, kiá»ƒm tra token
user-service		    Quáº£n lÃ½ ngÆ°á»i dÃ¹ng: Ä‘Äƒng kÃ½, thÃ´ng tin cÃ¡ nhÃ¢n, vai trÃ²
catalog-service		    Quáº£n lÃ½ danh má»¥c phim: thá»ƒ loáº¡i, danh sÃ¡ch phim theo thá»ƒ loáº¡i
movie-service		    ThÃ´ng tin chi tiáº¿t phim: tÃªn, mÃ´ táº£, thá»i lÆ°á»£ng, diá»…n viÃªn
review-service		    ÄÃ¡nh giÃ¡ phim, rating, comment
history-service		    LÆ°u lá»‹ch sá»­ xem phim theo ngÆ°á»i dÃ¹ng
media-stream-service	Stream ná»™i dung video, há»— trá»£ Byte Range Ä‘á»ƒ stream hiá»‡u quáº£

ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng
ThÃ nh pháº§n				          CÃ´ng nghá»‡
Framework Backend		    Spring Boot, Spring Cloud
Service Discovery		    Spring Cloud Netflix Eureka
Load Balancing			    Spring Cloud LoadBalancer
API Gateway			        Spring Cloud Gateway
Auth				        Spring Security + JWT
Config				        Spring Cloud Config Server + Git
DB chÃ­nh			        PostgreSQL (cho movie, catalog, user)
DB phá»¥				        MongoDB (cho review, history)
Stream Video			    Spring Web + Http Byte Range
Monitoring			        Spring Boot Actuator, Micrometer, Spring Boot Admin (tÃ¹y chá»n)

ğŸ” Luá»“ng xá»­ lÃ½ (Flow) ngÆ°á»i dÃ¹ng:

NgÆ°á»i dÃ¹ng truy cáº­p qua api-gateway

ÄÄƒng nháº­p â†’ auth-service sinh JWT â†’ Tráº£ token

NgÆ°á»i dÃ¹ng gá»­i request cÃ³ Bearer token Ä‘áº¿n gateway

Gateway kiá»ƒm tra token (via auth-service hoáº·c local filter)

Gateway route request Ä‘áº¿n cÃ¡c service:

/user/** â†’ user-service

/movies/** â†’ movie-service

/catalog/** â†’ catalog-service

/stream/** â†’ media-stream-service

...

CÃ¡c service láº¥y cáº¥u hÃ¬nh tá»« config-server vÃ  Ä‘Äƒng kÃ½ vÃ o eureka

Spring Cloud LoadBalancer tá»± Ä‘á»™ng chá»n instance khi gá»i ná»™i bá»™

Actuator cung cáº¥p health-check cho Eureka

ğŸ“‚ Cáº¥u trÃºc thÆ° má»¥c gá»£i Ã½

movie-streaming-platform/
â”‚
â”œâ”€â”€ config-server/
â”œâ”€â”€ config-repo/               â† Chá»©a file YAML cáº¥u hÃ¬nh
â”‚   â”œâ”€â”€ auth-service.yml
â”‚   â”œâ”€â”€ movie-service.yml
â”‚   â””â”€â”€ ...
â”œâ”€â”€ eureka-server/
â”œâ”€â”€ api-gateway/
â”œâ”€â”€ auth-service/
â”œâ”€â”€ user-service/
â”œâ”€â”€ movie-service/
â”œâ”€â”€ catalog-service/
â”œâ”€â”€ review-service/
â”œâ”€â”€ history-service/
â”œâ”€â”€ media-stream-service/
â”œâ”€â”€ common/                    â† Chá»©a DTOs, utils dÃ¹ng chung
â””â”€â”€ pom.xml                    â† Náº¿u lÃ  Maven multi-module
ğŸ’¡ Äá» tÃ i má»Ÿ rá»™ng:
PhÃ¢n quyá»n vai trÃ² (admin, user, guest)

TÃ¬m kiáº¿m nÃ¢ng cao (search theo tag, rating)

Gá»£i Ã½ phim theo lá»‹ch sá»­ xem

ÄÃ¡nh dáº¥u yÃªu thÃ­ch, xem sau

DÃ¹ng Elasticsearch cho tÃ¬m kiáº¿m